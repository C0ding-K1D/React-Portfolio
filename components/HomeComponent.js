import { Fragment, useEffect, useState } from "react";
import { animated, useSpring } from "react-spring";
import classes from "./HomeComponent.module.css";
import Header from "./Header";
import background from "../assets/mainPage-image.png";
import SecondaryLogo from "../assets/SecondaryLogo";
import Button from "../ui/Button";

const HomeComponent = () => {
  const [firstLogoLength, setFirstLogoLength] = useState(null);
  const [secondLogoLength, setSecondLogoLength] = useState(null);
  const [toggle, setToggle] = useState(false);
  const animatedStyle = useSpring({
    strokeDasharray: firstLogoLength,
    strokeDashoffset: toggle ? 0 : firstLogoLength,
    delay: 150,
  });

  const animatedFill = useSpring({
    fill: toggle ? "#333" : "transparent",
    delay: 550,
  });

  useEffect(() => {
    setToggle(true);
  }, []);

  return (
    <Fragment>
      <div
        style={{
          backgroundImage: `url(${background})`,
          backgroundPosition: "center",
          backgroundSize: "cover",
          height: "100vh",
        }}
      >
        <header>
          <Header />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="650"
            height="290"
            fill="none"
            viewBox="0 0 650 290"
            className={classes.logo}
          >
            <animated.path
              style={{ ...animatedFill, ...animatedStyle }}
              ref={(ref) => {
                if (ref) {
                  setFirstLogoLength(ref.getTotalLength());
                }
              }}
              fill="transparent"
              stroke="#333"
              d="M224 52.367c0 70.577 0 73.526.122 73.632.048.043 5.08-2.435 11.157-5.534l11.084-5.619V74.931c0-21.944.049-39.914.073-39.914.049 0 17.648 8.91 39.088 19.786 21.439 10.898 39.16 19.85 39.379 19.893.194.043 17.988-8.846 39.5-19.765 21.537-10.94 44.168-22.307 50.318-25.299l11.157-5.427.073-11.602L426 1l-.535.3c-.923.512-100.003 50.79-100.246 50.854-.146.042-22.485-11.24-49.686-25.022-27.201-13.803-49.929-25.341-50.488-25.62L224 1v51.367z"
            ></animated.path>
            <animated.path
              style={{ ...animatedFill, ...animatedStyle }}
              ref={(ref) => {
                if (ref) {
                  setSecondLogoLength(ref.getTotalLength());
                }
              }}
              fill="transparent"
              stroke="#333"
              d="M324.785 90.947L224 141.894l22.143.063 22.168.043 67.692-34.22 67.692-34.198.073 34.198.048 34.22h22.095l.048-19.193c.122-31.456-.048-82.828-.243-82.807-.097 0-45.524 22.934-100.931 50.947z"
            ></animated.path>
            <path
              className={classes["sub-header"]}
              fill="#333"
              d="M436 191.151c0 .087 4.194 10.871 9.296 23.946l9.272 23.773 1.202.065 1.202.065 9.026-23.73c4.955-13.053 9.002-23.859 9.002-24.011 0-.151-.368-.259-1.006-.259-.883 0-1.005.065-1.324.692-.172.389-4.023 10.438-8.561 22.303-4.537 11.887-8.266 21.634-8.315 21.655-.024.022-3.998-9.985-8.781-22.238l-8.756-22.304-1.129-.065c-.613-.043-1.128.022-1.128.108zM617 191.973v.973l14.544.043 14.545.065-14.545 21.924C617.684 235.865 617 236.946 617 237.941V239h31.044v-2.162h-13.811c-7.602 0-13.811-.043-13.811-.108s6.649-10.335 14.789-22.833C643.351 201.4 650 191.151 650 191.086c0-.043-7.431-.086-16.5-.086H617v.973zM372.437 214.881L348 238.783l1.352.065c1.135.044 1.449-.021 1.787-.368.218-.238 10.577-10.229 22.989-22.234l22.578-21.8.121 22.277.12 22.277h1.932l.073-24.011L399 191h-2.101l-24.462 23.881zM408 215v24h25v-1.955h-22.573V191H408v24zM500.529 214.773C487.05 227.848 476 238.589 476 238.654c0 .065.583.108 1.311.108h1.336l23.144-22.195 23.145-22.174.121 22.239.122 22.238.922.065.899.065v-48h-1.919l-24.552 23.773zM581 215v24h33.014v-1.955H583.217v-24.108h13.058v-1.955h-13.058v-18.244H615V191h-34v24zM536 215.479v23.5h2.41v-44.823h8.292c9.353 0 9.956.064 13.282 1.515 4.652 2.007 8.123 5.806 9.425 10.331.578 1.985.578 5.677.024 7.577-1.302 4.29-4.387 7.727-8.846 9.882-2.025.982-3.447 1.388-6.268 1.836l-2.29.363-.072.79c-.096 1.088.265 1.152 3.302.704l2.531-.384.41.512c.241.256 2.579 2.988 5.207 6.04l4.772 5.55 1.399.064 1.398.064-5.424-6.403c-3.013-3.543-5.448-6.446-5.448-6.489 0-.064.844-.534 1.881-1.067 4.893-2.561 8.05-6.19 9.473-10.928.723-2.391.723-6.361 0-8.752-1.808-6.04-6.509-10.437-13.282-12.529l-2.29-.704-9.931-.064L536 192v23.479zM255.001 191.151c-.05.087 3.45 10.898 7.789 24L270.677 239H273.192l5.644-6.4c3.106-3.503 5.719-6.422 5.817-6.465.099-.065 2.835 2.811 6.064 6.379l5.891 6.464 1.455-.043 1.479-.043 6.729-23.568c3.697-12.973 6.729-23.74 6.729-23.956 0-.282-.197-.368-.986-.368-.813 0-1.035.086-1.208.497-.123.281-3.13 10.53-6.704 22.811-3.55 12.26-6.557 22.249-6.656 22.184-.098-.043-2.933-3.092-6.285-6.746-3.352-3.654-6.162-6.724-6.261-6.811-.099-.086-2.983 3.027-6.433 6.919-3.451 3.892-6.286 6.941-6.335 6.768-.05-.173-3.427-10.487-7.518-22.919l-7.444-22.595-1.036-.065c-.542-.043-1.06.022-1.133.108zM0 214.989v23.989H1.929v-22.476c0-12.362.049-22.476.121-22.476s4.196 2.917 9.189 6.483c4.968 3.588 9.165 6.549 9.333 6.592.17.065 4.317-2.853 9.213-6.462l8.924-6.57.072 22.455L38.83 239l1.038-.065 1.012-.065.073-23.946L41 191h-1.061c-1.061 0-1.23.13-9.72 6.505a2517.693 2517.693 0 00-9.02 6.83c-.361.259-1.447-.476-9.84-6.527C2.532 191.454 1.833 191 .941 191H0v23.989zM73.007 213.4a29920.97 29920.97 0 01-24.462 23.892L47 238.784h2.849l23.037-22.227 23.061-22.227.073 22.335.048 22.335H98v-48h-1.014l-1.039.022-22.94 22.378zM105.071 191.912l.072.934 6.851.065 6.828.044V239h2.142v-46.045H135V191h-30l.071.912zM138.074 191.912l.074.934 7.08.065 7.055.044V239h2.213v-46.045H169V191h-31l.074.912zM175 215.011V239l1.433-.065 1.4-.065.1-23.946L178 191h-3v24.011zM206 215.011V239l.956-.065.933-.065.067-23.946L208 191h-2v24.011zM218 215v24h32.307l-.072-.934-.072-.912-14.993-.065-15.018-.044v-24.108h12.913v-1.955h-12.913v-18.244H251V191h-33v24zM180 223.5v.5h24v-1h-24v.5zM344.893 261.564c-.122.342-2.841 6.663-5.998 14.097-3.181 7.413-5.828 13.648-5.877 13.84-.073.215.073.386.413.472.389.085.583-.022.777-.45.146-.322 2.914-6.792 6.144-14.398 4.103-9.619 5.828-13.861 5.633-13.968-.534-.3-.85-.172-1.092.407zM124 275.992c0 10.843 0 10.992.495 10.992s.495-.149.495-10.566v-10.566l4.032.085c3.414.086 4.23.171 5.417.575 2.078.703 3.637 1.683 4.948 3.153 1.435 1.641 2.103 3.174 2.449 5.667.495 3.493-.569 6.923-2.795 9.011-1.213 1.15-2.623 1.768-3.959 1.789-.766 0-.94.085-.94.426 0 .639 1.782.575 3.414-.128 3.464-1.47 5.715-5.73 5.418-10.204-.322-4.857-3.191-8.691-7.768-10.353-1.905-.681-2.004-.703-6.555-.788L124 265v10.992zM146.175 265.15c-.1.064-.175 5.019-.175 11V287h7.75c7.575 0 7.75 0 7.75-.427s-.175-.427-7.25-.427H147v-11.107h3.125c2.95 0 3.125-.022 3.125-.427 0-.406-.175-.428-3.125-.428H147v-8.33h7.5c7.325 0 7.5 0 7.5-.427s-.175-.427-7.825-.427c-4.325 0-7.925.064-8 .15zM165.469 269.528c.937 2.499 2.81 7.455 4.144 11 2.154 5.81 2.459 6.472 2.927 6.472.445 0 .866-.983 4.448-10.744 2.154-5.895 3.957-10.85 4.004-11 .047-.128-.117-.256-.375-.256-.421 0-.936 1.282-4.12 9.975-2.014 5.51-3.746 10.103-3.84 10.252-.117.15-1.78-3.951-4.027-9.932-3.395-8.971-3.934-10.188-4.379-10.252-.468-.064-.398.235 1.218 4.485zM185 276v11h7.771c7.596 0 7.771 0 7.771-.427s-.175-.427-7.269-.427h-7.27v-11.107h3.133c2.958 0 3.134-.022 3.134-.427 0-.406-.176-.428-3.134-.428h-3.133v-8.33h7.545c7.044 0 7.521-.021 7.446-.384-.076-.342-.702-.363-8.047-.427L185 265v11zM203 275.959V287h6c5.821 0 6-.021 6-.428 0-.406-.179-.428-5.489-.428h-5.49l-.051-10.527c-.076-9.843-.102-10.549-.51-10.613-.434-.064-.46.556-.46 10.955zM226.446 265.286c-5.576 1.337-9.446 5.665-9.446 10.588 0 3.182 1.154 5.75 3.557 7.829 3.413 2.949 7.403 3.925 11.922 2.907 2.523-.573 4.062-1.337 5.912-2.971 1.683-1.485 2.644-2.97 3.245-4.986 1.658-5.686-2.524-11.839-9.037-13.367-1.635-.381-4.519-.381-6.153 0zm5.504.764c3.197.594 6.393 2.865 7.859 5.559 3.125 5.792-.504 12.624-7.547 14.258-3.941.891-8.027-.085-10.936-2.652-2.475-2.185-3.533-4.753-3.317-8.147.097-1.528.241-2.037.986-3.353 2.452-4.371 7.643-6.641 12.955-5.665zM266.174 265.112c-.1.065-.174 5.028-.174 11.019V287h7.814c7.64 0 7.814 0 7.814-.428s-.174-.428-7.318-.428h-7.318v-11.125h3.101c2.927 0 3.101-.022 3.101-.428 0-.407-.174-.428-3.101-.428h-3.101V265.818l7.517-.042c6.474-.064 7.491-.107 7.491-.385 0-.279-1.067-.321-7.839-.386-4.291-.021-7.888.022-7.987.107zM246 275.989V287h1.22v-21.16l4.463.087c4.39.064 4.463.064 5.732.689 2.414 1.185 4.292 3.534 4.585 5.775.488 3.749-2.341 7.175-6.683 8.08-1.439.302-1.756.453-1.756.776 0 .388.122.409 1.244.301.707-.086 1.927-.409 2.756-.754 5.805-2.413 7.293-9.287 2.854-13.208-.756-.647-2.025-1.466-2.83-1.832-1.463-.625-1.487-.625-6.512-.689L246 265v10.989zM285 275.989V287h1.22v-21.16l4.342.087c3.805.064 4.439.129 5.464.538 1.634.647 3.488 2.284 4.269 3.706.561 1.035.658 1.487.683 3.146 0 1.81-.073 2.026-.83 3.297-1.317 2.155-3.342 3.448-6.196 3.943-1.073.194-1.39.345-1.341.604.097.344.561.409 2.024.215.659-.086.879.086 2.879 2.392 1.195 1.357 2.317 2.65 2.488 2.866.171.237.537.366.854.323.463-.065.244-.388-1.927-2.952-1.366-1.595-2.464-2.952-2.464-3.017 0-.086.415-.323.902-.56 1.269-.603 2.928-2.133 3.611-3.34 2.366-4.137.488-9.201-4.22-11.248l-1.61-.711-5.074-.064L285 265v10.989zM421.682 264.527c-1.769.583-2.715 1.209-3.587 2.397-1.697 2.29-1.358 4.86.897 6.868 1.309 1.166 2.642 1.641 5.745 1.987 3.854.454 5.308 1.101 6.569 2.872 1.333 1.879.824 4.385-1.164 5.853-1.527 1.123-3.272 1.598-5.527 1.49-3.296-.172-5.551-1.49-6.35-3.757-.291-.843-.534-1.167-.849-1.167-.509 0-.533.13-.17 1.426.776 2.743 5.479 5.01 9.139 4.406 4.072-.67 6.593-2.916 6.593-5.875 0-1.641-.679-2.937-2.23-4.168-1.357-1.08-3.587-1.836-5.502-1.836-3.758-.021-6.788-2.03-7.2-4.794-.121-.735-.024-1.231.364-2.031.727-1.425 1.333-1.965 3.054-2.699 2.812-1.21 6.933-.734 8.969 1.036.97.843 1.576 1.879 1.576 2.765 0 .389.121.54.484.54 1.334 0-.169-3.132-2.133-4.471-2.109-1.425-5.842-1.792-8.678-.842zM377 275.992c0 10.843 0 10.992.494 10.992s.494-.149.494-10.545v-10.544h3.408c5.953 0 8.941 1.129 11.387 4.281 1.506 1.96 2.099 3.835 2.099 6.689 0 3.43-.84 5.582-2.89 7.52-1.185 1.108-2.618 1.726-3.927 1.747-.766 0-.938.085-.938.426 0 .639 1.778.575 3.408-.128 4.199-1.789 6.496-7.669 5.014-12.717-.741-2.493-1.655-3.899-3.606-5.603-1.408-1.235-2.075-1.64-3.705-2.215-1.951-.703-2.025-.725-6.595-.81L377 265v10.992zM400.164 265.15c-.094.064-.164 5.019-.164 11V287h7.266c7.101 0 7.265 0 7.265-.427s-.164-.427-6.797-.427h-6.797v-11.107h2.93c2.766 0 2.93-.022 2.93-.427 0-.406-.164-.428-2.93-.428h-2.93v-8.33h7.032c6.867 0 7.031 0 7.031-.427s-.164-.427-7.336-.427c-4.055 0-7.43.064-7.5.15zM437 276c0 10.85 0 11 .5 11s.5-.15.5-11 0-11-.5-11-.5.15-.5 11zM469 276c0 10.85 0 11 .493 11 .468 0 .493-.171.542-10.466l.074-10.445 7.514 2.969 7.515 2.969.074 7.497c.049 6.451.098 7.476.418 7.476.321 0 .37-1.41.37-11 0-9.633-.049-11-.37-11-.32 0-.369.47-.369 2.99 0 1.645-.099 2.991-.222 2.991-.098 0-3.548-1.346-7.662-2.991-4.115-1.644-7.663-2.99-7.909-2.99-.443 0-.468.427-.468 11zM490 276v11h7.811c7.635 0 7.811 0 7.811-.427s-.176-.427-7.433-.427h-7.433v-11.107h3.15c2.973 0 3.149-.022 3.149-.427 0-.406-.176-.428-3.149-.428h-3.15v-8.33l7.635-.042c6.576-.064 7.609-.107 7.609-.385 0-.277-1.083-.32-7.987-.384L490 265v11zM450.605 265.383c-2.088.516-3.488 1.29-5.084 2.795-2.678 2.537-3.906 5.912-3.415 9.265.737 4.924 4.913 8.772 10.268 9.46 3.341.451 7.025-.688 9.629-2.967 1.499-1.333 2.997-3.526 2.997-4.429v-.559h-3.807c-3.636 0-3.808.022-3.808.43 0 .409.172.43 3.316.43h3.316l-.245.559c-.811 1.849-2.972 3.762-5.38 4.773-2.432 1.032-5.232 1.204-7.811.494-5.085-1.376-8.377-6.363-7.492-11.351.515-2.816 2.603-5.675 5.158-7.03 3.66-1.934 7.91-1.848 11.521.237 1.572.903 2.751 2.064 3.684 3.633.737 1.225.983 1.376 1.229.795.245-.558-1.106-2.601-2.629-3.955-2.874-2.558-7.443-3.59-11.447-2.58zM509 275.989V287h1.225v-21.16l4.359.087c5.167.086 6.098.344 8.13 2.24 1.837 1.703 2.327 2.78 2.327 5.15 0 1.681-.098 2.112-.661 3.125-1.176 2.111-3.478 3.62-6.368 4.137-1.077.194-1.42.345-1.371.603.098.345.759.41 2.033.173.71-.13.832-.022 3.183 2.736 1.886 2.219 2.572 2.887 3.013 2.887.685.022.783.151-1.96-3.059-1.2-1.379-2.228-2.651-2.277-2.801-.074-.151.269-.453.759-.69 1.494-.711 3.012-2.176 3.845-3.728.71-1.293.784-1.637.759-3.383 0-1.486-.147-2.241-.563-3.167-.759-1.724-2.596-3.426-4.629-4.31l-1.616-.711-5.094-.064L509 265v10.989z"
            ></path>
          </svg>
        </header>
      </div>
      <Button>Resume</Button>
      <div>
        <h1 className={classes["heading-primary"]}>WELCOME</h1>
        <div className={classes["text-container"]}>
          <p className={classes.paragraph}>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Aperiam
            molestias aliquam adipisci nesciunt nostrum autem assumenda quod
            fuga odio doloribus.
          </p>
        </div>
      </div>
      <footer>
        <SecondaryLogo />
        <div className={classes.icons}>
          <i className="fa fa-github-square"></i>
          <i className="fa fa-linkedin"></i>
          <i className="fa fa-twitter-square"></i>
        </div>
        <div className={classes.container}>
          <nav>
            <hr className={classes.line} />
            <ul>
              <li>HOME</li>
              <li>ABOUT</li>
              <li>SKILLS</li>
              <li>PROJECTS</li>
              <li>CONTACT</li>
            </ul>
          </nav>
          <div className="copyright">
            <hr className={classes.line} />
            <p>WEBSITE CREATED BY MATTHEW ALVAREZ. © COPYRIGHT 2022</p>
          </div>
        </div>
      </footer>
    </Fragment>
  );
};

export default HomeComponent;
